import{d as B,r as f,b as C,c as l,w as r,F as R,e as V,f as t,h as U,o as u,i as H,t as F,y as S,_ as I,l as G}from"./index-BckS7FqH.js";import{P as D}from"./index-CP40OF9I.js";import{S as E,a as N,L as Y}from"./index-CfKz4khQ.js";import{I as L,R as M,C as Q,a as j}from"./CoverComp-DZSuHXdB.js";import{s as h}from"./request-BGbGRkHZ.js";import"./index-Iz19IypR.js";import"./use-touch-pNhPEBER.js";import"./constant-CRwwH2e9.js";import"./index-BIjBMK-m.js";import"./use-expose-DZEz3PMt.js";import"./on-popup-reopen-BRGeLQS4.js";import"./index-BKWbUhWt.js";const k={class:"swipe-container"},b={class:"my-image"},_={class:"describe"},J={class:"custom-indicator"},P=["onClick"],T=B({__name:"SwineComp",props:{HomeBanners:{default:()=>[]}},setup(a){const d=f(0),o=f();console.log(a.HomeBanners);const g=m=>{d.value=m,o.value?.swipeTo(m)};return(m,s)=>{const i=L,A=U("RouterLink"),e=N,v=E;return u(),C("div",k,[l(v,{ref_key:"swipeRef",ref:o,active:d.value,"onUpdate:active":s[0]||(s[0]=c=>d.value=c),class:"image-carousel",autoplay:5e3,"indicator-color":"white","lazy-render":!1},{indicator:r(({active:c,total:w})=>[t("ul",J,[(u(!0),C(R,null,V(w,(y,p)=>(u(),C("li",{key:p,class:S({"is-active":p===c}),onClick:$=>g(p)},s[1]||(s[1]=[t("div",{class:"indicator-line"},null,-1)]),10,P))),128))])]),default:r(()=>[(u(!0),C(R,null,V(m.HomeBanners,(c,w)=>(u(),H(e,{key:c.id},{default:r(()=>[l(A,{to:c.shortId?{name:"play",params:{id:c.shortId}}:"",onClick:y=>g(w)},{default:r(()=>[t("div",b,[l(i,{src:c.showURL,fit:"cover","show-error":"","show-loading":""},null,8,["src"])]),t("div",_,[t("p",null,F(c.title),1)])]),_:2},1032,["to","onClick"])]),_:2},1024))),128))]),_:1},8,["active"])])}}}),x=I(T,[["__scopeId","data-v-48c98bff"]]),Z={class:"screen-bar"},z=B({__name:"ScreenComp",props:{catInfo:Object},setup(a){return(d,o)=>{const n=U("RouterLink");return u(),C("ul",Z,[l(n,{to:{name:"list",params:{id:a.catInfo?.categoryId},query:{channeid:a.catInfo?.id,ids:"0,0,0,0,0,0,0"}}},{default:r(()=>o[0]||(o[0]=[t("div",null,[t("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAZtJREFUWEftlb8rxHEYx1/PoeiIkgHJYDFgECVyd36k25TV5g8wW/yabFJmZZDRYJEM53vdJCWFwSg6yik6WbhHd0Xpvj+e4cTw/dR3+j7v5/P6vOt5P8IfH/nj+/lnACmtp46oyZU8MCkPpdojbaSBWpOumg8G5PGr9qcDjq6hLJgaQYGEVJVqU7qDMGvU3ZCQziCAU+Cb0qXxCBB1AcgARW+8zgSQDQaIkCQmh55tjvUc6CkDKNDDuFx66hzNoeRDgNCB0AGLA+sUuPAcJ2EVpb1sDJVFhDufHNgEcsEAtkj7lSQcRhmw3Y+SkOKLwNEplG6TLsILMdl2j2JTh8oW/VxGae1D6TVfEWMXESWlQ0ToMureiMue1zJaQVk2NgKlhjF5x9EtlDmj7p6EtAYBbCN4LxVlHugoAxA2wGcKlCXgNRhAmCYu+z7b8AQYdAHoJy5nPrps6V+gAyFA6EDogOAAt57jpCSBZpcgOkB48tHNAM/BY2iMtMonYVpbgOJnOzG5KhVmtI0CTSaR8M6oXP/TbWh6QmWLPgEowYQwL8OowAAAAABJRU5ErkJggg==",alt:""})],-1),t("p",null,"全部",-1)])),_:1,__:[0]},8,["to"]),l(n,{to:{name:"list",params:{id:a.catInfo?.categoryId},query:{channeid:a.catInfo?.id,ids:"0,0,0,0,0,0,0"}}},{default:r(()=>o[1]||(o[1]=[t("div",null,[t("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAActJREFUWEftlsFLFHEUxz9vdoNoFesPiCIIBMHTIuymMy62KoSQB2/iTRACrytdslshHTp08Bbh2UNIUWSzo6wS7rHwpnbvsiyGsLpPml1pk6Lf7EwtyMzvNPDmfT/vO7/3+z2hw490WJ8YIJwDH/UeCRI48rrdX9k+gKvjwBrir8l2IdoDcLUXYRu42qy8ipIlJ5+DOhEcYFOvccIn4DZwjKAoSeAAZYCcfAsCEQxANYHHWyCP8gyLKV9MWQEeInikyJOWmilEMABPn6PMI7zBZoIN9n0hm5t4rAL3EZZxZC56AFfTCDvALjUy5KWCp199IUdu4GoXFiWUfiwGsaVkAmHuQFmv8J0CykscaVTeCtB4v44yS5IlBqUaLcDvsp0HMFE8F2PuQAwQO/BfHPB0lCNKjMmh0YYO2gXvNMVl7uDI+7P8P7ugqBlgC2WBnDz9JwCuFhCeAFmG5cdl1jIRbegIdT4gPMaRRUOAL82TsM8wfhHlERZ3sWU9PMCm3vKFh2SvMwBGqi1BnkbswMUEwB8uXgUtzjB+Bpj+0yZ0qFM0TBQuzGIYW7xfu6Csl6jyAIuecNn/8nWdCt28OBvbwl3HEZDGAB134BRBvLsh0ppcDQAAAABJRU5ErkJggg==",alt:""})],-1),t("p",null,"最新上传",-1)])),_:1,__:[1]},8,["to"]),l(n,{to:{name:"list",params:{id:a.catInfo?.categoryId},query:{channeid:a.catInfo?.id,ids:"1,0,0,0,0.0.0"}}},{default:r(()=>o[2]||(o[2]=[t("div",null,[t("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAvlJREFUWEft11uIVXUUx/HPmqkpR8UeoggpKgjEIimKoNE558xIVEKGQQ9hCYYkkWUPBWFog5FSkBVBYFHQVbpiUhAJZ86JLoQPSUVEBBXRbYogLCqds2IfZyw7Zy42TFK4Xjbs/+L//64f67f2f4fDHHGYzzd9ANU8C4t1/q3E9IVSvDj6dvoAarlT6m+rcFiiFK8Wa9MHUM15Qp8Q0lzcgqOaQGmVSjwyvQCjpdfzXMNeFuYKv0jd/x5ALZdJj2MmtgpfSxumBvBhdnnOPndEY1wHDeZtwp1SNuUvxxbVvF3Y+M8BqnmtcD++Fy5Rio9aIArAIQ/jGuEnw67SF6808woo7sJK5Xhs8j2QGWo241YUlXfgS8MW6o/PD0BU83jhJSzEZ8JlSvH+X9ZPFW7UYZPeGJocwI7sNtsTWNasfP/zaqzCJ/ZZZHF8q57zpR3S6Xjb0S7XE9+1KFTLCx1ntwXx88QA9TxJ2i6dL32syxI98anMDnXPSFfiPWGTtBVz8LS5Vjojfms5/I28wLB3cI9yFGqOMwfqefZIRaegqtMVFsWPBzZ9NrucYDsuHnlXNNsG5dg4ZnPW8iLptaYjynHd2AC1vFTahtnCo2Za7bzY27Lxruy2R9FMC3RYpzdeGNcZkwKo5w0atggdGtapRNF8k4tqHiuVVLwu2th0QoBa3ifd1JxYDStU4vnJnTySNZjFuL272ajlKNxwcIwLsCvn2OMHDOmwVG+8e0iH7/f5ANYLK5SimICHAFCk1vIce33VtFW7KCyUTmxbXZFfzwGNqQBMVHItd0tnmmVG26acsgITAQxmMXrnSTNU4teW9P82QD17NDypYbm+eLOtGNOqQD3Xjvh/rVIUX7zWOAJwRIH/twKDuQYPSGtU4sExXPAB5pvlmDEm4XoMSMtV4qmWPerZr2EnHlKO64v1P39MittPw83SvSrxTVuAei417OQxAWt5mrRap80HXV5GN3srZ/hdcTPeNnpXnL4/o4nG+sj6YQf4A8satjD8Tj6dAAAAAElFTkSuQmCC",alt:""})],-1),t("p",null,"人气高",-1)])),_:1,__:[2]},8,["to"]),l(n,{to:{name:"list",params:{id:a.catInfo?.categoryId},query:{channeid:a.catInfo?.id,ids:"2,0,0,0,0,0,0"}}},{default:r(()=>o[3]||(o[3]=[t("div",null,[t("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABB9JREFUWEfdlntoVnUYxz/fs2Z5y4Ia3qBwGeg/mUnO23vOW9aWXTS0jKKk0j8q/4i0cIQR0YUW/ZURkZlR1FzkHypl0bb3vE4HYpTYyLyEmlZmLAk13d6dJ35nF9z2bu+FLOj57/wuz/M5z++5if9YVLT9tC0k4i3gGBkWMlc/FqOrOIBGG4/YCwzvMtpEoDn/HkBor2GsRGzCOAfcg8dcEqovFKJwD3xmlzKUI4hRGDMo5Q8ytCDq8VV54QFS9jRQg0jjy48NpuxjxGIibiSpXYVAFOaBzTaMkRwERuNRRUJfxMbSNpmIPYjN+Fpw4QBSVg28DOwg0KxehtL2ERH3AbMI1JwvRHYP7LJhnKaciHLgGsREYDIwHVGCMbufke1WTlscCycQtYjdiP1kOEzAcSTLBtUbIG0+xuvA9RhevwviL4wXCeS80F8a7QkU37+416ZoA45iNJHhGebqePd+b4DQ3MaVGAcRh4HDGIdQ/L2XU7QwTy7tBpZGuwyPBMYUiD13NTAOKOuqG+sI9Gh2gJTtjy8YD5JUbb7vmNe5lD2OWAO8ja/HBvLArRhbut65mkA1eSkf7JCZCHkVcOnr6sdsfP2UHcCtNlqA+AS4Io6HpFYWDVFnJZTxDvAw8B1DqGKmjp2vL3sWhDYR48v4OVxQ+UVAPG8eAR8A9wPNGPNI6mTfnxm4EHU2nBCYgFiKr3cL8kRor2CscnWSy7mD63Q6dxr2PdHpia+BNkYwhmlqzwvC1YQM+4BvifBJ6tRA93KX4tBqMRbTzlXcoiN5ATRYJR5bMZaR1NrB7uQGSNlG4G48ykjoRF4ATVZBhmbEKny5DBhQcgOE5rrbJBKMGKic9tO+00Zzhl+AtQRaVjxAZyT/idiHr6n9FO2woZwkylodU+a8dYBAM4oH2GbX0sEPwHoCuVzulEarQDyFcReiA49P43Sdo909Z1Lm0ngmvzGKe9VRXBCG9hDG+4jl+HqT0FyTegm4DTiD2ApUYIwFDGMjHqvx9T0pewFYTcQUbjoPrA/J4DEQ2hsYy/FYRMR8xANdM+AajBqS+p06G8JolhDxHDAeyCBczWjA2AA8QqD3ivNAylwZXYqIYgXGhxjPktTR+Hu3DaeVcySVwcVDG08iqjFGQnzHi0c1X3XFAYQ2CWNT3Bc8FpCQq4ydss0m0BEPHS34quhZb7KxZFgBcUvezglWFB8D3VpdR6unjFLK8LUnXm6w2/HYEv9poJIegLRN5SIOMVOtg0V/917uOtB9MmUHuvrCDfj6JitA2m4m4ivETnxN/6cB3FhVipiPr01ZAVLmUnUd8CuBxvzvAM7Gw6ZxJ0ltyeqB0JZgrAd+JpCbA3NKITHgxrNpnGURVWolbZVEccdzaXhJbGmHjaM9zv3P8eUKVk75G2xHhTAphyS1AAAAAElFTkSuQmCC",alt:""})],-1),t("p",null,"评分高",-1)])),_:1,__:[3]},8,["to"])])}}}),W=I(z,[["__scopeId","data-v-8cc29512"]]),O=B({__name:"ListComp",props:{HomeVideos:{default:()=>[]},vtype:{default:1}},emits:["update:HomeVideos"],setup(a,{emit:d}){const o=f(!1);let n=1;const g=a,m=d,s=f(!1),i=f(!1),A=async()=>{try{n++;const v=(await h.get("/api/home/gethomemodules",{params:{channeid:g.vtype,page:n}}))?.data?.data?.list?.[0]?.list||[];v.length||(i.value=!0),m("update:HomeVideos",[...g.HomeVideos,...v])}catch(e){console.error("ListComp error: ",e),o.value=!0,n--}finally{s.value=!1}};return(e,v)=>{const c=Q,w=M,y=Y;return u(),H(y,{loading:s.value,"onUpdate:loading":v[0]||(v[0]=p=>s.value=p),"immediate-check":!1,finished:i.value,"finished-text":"没有更多了",onLoad:A,error:o.value,"onUpdate:error":v[1]||(v[1]=p=>o.value=p),"error-text":"请求失败，点击重新加载",class:"list",role:""},{default:r(()=>[l(w,{gutter:"10"},{default:r(()=>[(u(!0),C(R,null,V(e.HomeVideos,p=>(u(),H(c,{key:p.shortId,span:"12"},{default:r(()=>[l(j,{MvItem:p,islist:e.vtype!=2},null,8,["MvItem","islist"])]),_:2},1024))),128))]),_:1})]),_:1},8,["loading","finished","error"])}}}),q=I(O,[["__scopeId","data-v-1e1d8b15"]]),K={class:"scroll-box"},X=B({__name:"NavHomeView",props:{catInfo:{}},setup(a){const d=f(!1),o=f(),n=f(),g=a,m=async()=>{try{const i=(await h.get("/api/home/gethomemodules?channeid="+g.catInfo.id)).data;for(const A of i.data?.list??[])A.type===0?o.value=A.banners.map(e=>({id:e.id,showURL:e.showURL,title:e.title,url:e.url,shortId:e.shortId})):0<A.type&&A.type<5&&(n.value=A.list.map(e=>({id:e.id,coverUrl:e.coverUrl,score:e.score,playCount:e.playCount,cidMapper:e.cidMapper,shortId:e.shortId,title:e.title,isSerial:e.isSerial,upStatus:e.upStatus,upCount:e.upCount})))}catch(s){console.error("NavHomeView error: ",s)}d.value=!1};return G(()=>{m()}),(s,i)=>{const A=D;return u(),C("div",K,[l(A,{modelValue:d.value,"onUpdate:modelValue":i[1]||(i[1]=e=>d.value=e),onRefresh:m,"success-text":"刷新成功"},{default:r(()=>[l(x,{HomeBanners:o.value},null,8,["HomeBanners"]),l(W,{catInfo:s.catInfo},null,8,["catInfo"]),l(q,{HomeVideos:n.value,"onUpdate:HomeVideos":i[0]||(i[0]=e=>n.value=e),vtype:s.catInfo.id??1},null,8,["HomeVideos","vtype"])]),_:1},8,["modelValue"])])}}}),pe=I(X,[["__scopeId","data-v-0b7cfabe"]]);export{pe as default};
