import{j as w,t as M,n as A,c as P,y as E,h as W,q as D,w as k,u as G,m as Q,a as Z,e as J}from"./index-BZ0O1QaC.js";import{d as _,r as B,g as Y,a as y,H as q,G as F,l as O,n as N,c as f,s as x,Q as T,m as R,i as V,h as X,w as H,f as v,b as j,x as K,t as h,o as b,_ as ee}from"./index-DO-l4tIR.js";import{I as te}from"./index-C0LVEZzw.js";const[ae,m]=P("image"),re={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:A,height:A,radius:A,lazyLoad:Boolean,iconSize:A,showError:M,errorIcon:w("photo-fail"),iconPrefix:String,showLoading:M,loadingIcon:w("photo"),crossorigin:String,referrerpolicy:String,decoding:String};var oe=_({name:ae,props:re,emits:["load","error"],setup(e,{emit:o,slots:l}){const u=B(!1),c=B(!0),s=B(),{$Lazyload:d}=Y().proxy,a=y(()=>{const t={width:E(e.width),height:E(e.height)};return W(e.radius)&&(t.overflow="hidden",t.borderRadius=E(e.radius)),t});q(()=>e.src,()=>{u.value=!1,c.value=!0});const r=t=>{c.value&&(c.value=!1,o("load",t))},n=()=>{const t=new Event("load");Object.defineProperty(t,"target",{value:s.value,enumerable:!0}),r(t)},i=t=>{u.value=!0,c.value=!1,o("error",t)},g=(t,I,z)=>z?z():f(te,{name:t,size:e.iconSize,class:I,classPrefix:e.iconPrefix},null),C=()=>{if(c.value&&e.showLoading)return f("div",{class:m("loading")},[g(e.loadingIcon,m("loading-icon"),l.loading)]);if(u.value&&e.showError)return f("div",{class:m("error")},[g(e.errorIcon,m("error-icon"),l.error)])},p=()=>{if(u.value||!e.src)return;const t={alt:e.alt,class:m("img"),decoding:e.decoding,style:{objectFit:e.fit,objectPosition:e.position},crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy};return e.lazyLoad?x(f("img",R({ref:s},t),null),[[T("lazy"),e.src]]):f("img",R({ref:s,src:e.src,onLoad:r,onError:i},t),null)},S=({el:t})=>{const I=()=>{t===s.value&&c.value&&n()};s.value?I():N(I)},L=({el:t})=>{t===s.value&&!u.value&&i()};return d&&D&&(d.$on("loaded",S),d.$on("error",L),F(()=>{d.$off("loaded",S),d.$off("error",L)})),O(()=>{N(()=>{var t;(t=s.value)!=null&&t.complete&&!e.lazyLoad&&n()})}),()=>{var t;return f("div",{class:m({round:e.round,block:e.block}),style:a.value},[p(),C(),(t=l.default)==null?void 0:t.call(l)])}}});const ne=k(oe),[$,se]=P("row"),U=Symbol($),ie={tag:w("div"),wrap:M,align:String,gutter:{type:[String,Number,Array],default:0},justify:String};var le=_({name:$,props:ie,setup(e,{slots:o}){const{children:l,linkChildren:u}=G(U),c=y(()=>{const a=[[]];let r=0;return l.forEach((n,i)=>{r+=Number(n.span),r>24?(a.push([i]),r-=24):a[a.length-1].push(i)}),a}),s=y(()=>{let a=0;Array.isArray(e.gutter)?a=Number(e.gutter[0])||0:a=Number(e.gutter);const r=[];return a&&c.value.forEach(n=>{const i=a*(n.length-1)/n.length;n.forEach((g,C)=>{if(C===0)r.push({right:i});else{const p=a-r[g-1].right,S=i-p;r.push({left:p,right:S})}})}),r}),d=y(()=>{const{gutter:a}=e,r=[];if(Array.isArray(a)&&a.length>1){const n=Number(a[1])||0;if(n<=0)return r;c.value.forEach((i,g)=>{g!==c.value.length-1&&i.forEach(()=>{r.push({bottom:n})})})}return r});return u({spaces:s,verticalSpaces:d}),()=>{const{tag:a,wrap:r,align:n,justify:i}=e;return f(a,{class:se({[`align-${n}`]:n,[`justify-${i}`]:i,nowrap:!r})},{default:()=>{var g;return[(g=o.default)==null?void 0:g.call(o)]}})}}});const[ce,ue]=P("col"),de={tag:w("div"),span:Q(0),offset:A};var ve=_({name:ce,props:de,setup(e,{slots:o}){const{parent:l,index:u}=Z(U),c=y(()=>{if(!l)return;const{spaces:s,verticalSpaces:d}=l;let a={};if(s&&s.value&&s.value[u.value]){const{left:n,right:i}=s.value[u.value];a={paddingLeft:n?`${n}px`:null,paddingRight:i?`${i}px`:null}}const{bottom:r}=d.value[u.value]||{};return J(a,{marginBottom:r?`${r}px`:null})});return()=>{const{tag:s,span:d,offset:a}=e;return f(s,{style:c.value,class:ue({[d]:d,[`offset-${a}`]:a})},{default:()=>{var r;return[(r=o.default)==null?void 0:r.call(o)]}})}}});const Be=k(ve),be=k(le),ge={class:"preview"},fe={class:"my-image"},me={key:0,class:"episodes-num"},he={class:"video-info"},Ae={class:"score visbile"},ye={class:"info-b"},pe={class:"hot-num notranslate"},Se={key:0,class:"update flex_auto"},Ie={class:"name"},we=_({__name:"CoverComp",props:{MvItem:{},islist:{type:Boolean}},setup(e){return(o,l)=>{const u=ne,c=X("RouterLink");return b(),V(c,{to:{name:"play",params:{id:o.MvItem.shortId}},class:"vertical-video vertical-video"},{default:H(()=>[v("div",ge,[v("div",fe,[f(u,{src:o.MvItem.coverUrl,fit:"fill","show-error":"","show-loading":""},null,8,["src"])]),o.MvItem.upCount>0&&o.islist?(b(),j("span",me,h(o.MvItem.upCount),1)):K("",!0),v("div",he,[v("div",Ae,h(o.MvItem.score=="0"?"":o.MvItem.score),1),v("div",ye,[v("div",pe,[l[0]||(l[0]=v("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAVRJREFUOE+tlE8rRGEUxn9PNuzYKRtRysa/hQVZSCzJSpEllj6ED6BZ+ASKrKhZiNJMKRaaUrKwmI8wUbKh8eid7mjmNfdyy9ndes7vnPec81zxT6Esju15IGhKkpylTQXZ7gF2gW6gCpxIek+DZYFWgMmWxAA7klTvBOsIsj0OrHZIKEsq/wlkewjYALo6JHwABWAauJP02tS0dWS7D9gGwnzS4hwYBWqSimmgTWD4l4t4SQqFjvclvQX9d0e2B4CtnGdVlFSJQQvAXE7QvaSzGLSWvD0PqyrpMAatAyN5KMCTpOMYtAjMRqBgixLQtEpc50rSdQzqB3ZaFwDUJe3ZngGWIsoncCCp1gYKH7ZjWzxLKtgO2w2+622B3Uq6SLujcBth6M1Z3Ui6TIosA1NJ4gNwKil01YgfXkuqBwsMJuKG421PAGNARdJjPKzM/1GeDX4BSUZuE+FkCTEAAAAASUVORK5CYII=",alt:""},null,-1)),v("span",null,h(o.MvItem.playCount<1e4?o.MvItem.playCount:(o.MvItem.playCount/1e4).toFixed(1)+" ä¸‡"),1)]),o.MvItem.isSerial&&o.islist?(b(),j("div",Se,h(o.MvItem.upStatus),1)):K("",!0)])])]),v("div",Ie,[v("h3",null,h(o.MvItem.title),1),l[1]||(l[1]=v("p",{class:"type"},null,-1))])]),_:1},8,["to"])}}}),Me=ee(we,[["__scopeId","data-v-51050600"]]);export{Be as C,ne as I,be as R,Me as a};
