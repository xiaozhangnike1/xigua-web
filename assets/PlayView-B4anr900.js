import{d as G,r as g,b as p,i as V,I as X,s as C,f as e,F as S,e as x,v as R,o as d,t as A,_,u as F,a as N,l as z,p as O,G as q,c as M,w as K,x as w,D as L,z as Q,y as W}from"./index-DO-l4tIR.js";import{P as $,H as ee,D as se,N as te}from"./demoPlugin-CUghiY1G.js";import{P as oe}from"./index-BSdwDGSO.js";import{s as k}from"./request-vocc818-.js";import"./index-BZ0O1QaC.js";import"./use-expose-buKm2G0G.js";import"./on-popup-reopen-D5u2-ffw.js";import"./index-C0LVEZzw.js";import"./use-touch-Uh-j500R.js";import"./constant-CRwwH2e9.js";import"./index-T6Dye2l5.js";const ie="/logowee.png",ae={class:"episodes h_100_vh flex_direction-column"},le={class:"flex_auto overflow-hidden"},Ae={class:"load-box"},ne={class:"flex episodes_inner flex_direction-column"},re={class:"episodes_body flex_auto"},de={class:"episode-list"},ce=["onClick"],ue={class:"van-multi-ellipsis--l2"},ve=G({__name:"EpisodesComp",props:{episodes:{}},setup(b){const h=g(".index-body"),y=()=>{const c=document.querySelector(".detail"),n=document.querySelector(".episodes");c&&(c.style.display="block"),n&&(n.style.display="none")};return(c,n)=>(d(),p("div",null,[(d(),V(X,{to:h.value},[C(e("div",ae,[e("div",{class:"nav-bar relative van-hairline--bottom"},[e("div",{class:"left",onClick:y},n[0]||(n[0]=[e("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAXNJREFUaEPt2TtKBEEYReFzMZMBd+ASXIGBmhgaGbkDlyGGJgYuQBAjAzP3YOoCRMHcRMTEkoYOOpgHXfU/ZrArmWD6cb6qoXqgxYYPbXg/EyB7BacV+LcrUEqZAXfAEXAl6aJmMlJ+Qn38E7DfR/8CM0nfYxHhgDnxXfOLpL2x8d3xoYAF8a/AoaS3tQZ4xIetgFd8CMAz3h3gHe8KiIh3AyyJP5D0XrPbLDrHfBuNjDdfgeh4U0BGvBkgK94EkBnfDMiObwKsQ3wr4BE4GezP3b9K831+1TOj+jlQSvkCtgc3OJX0sOqG1t+3AG6A80HQJ3As6dk6ctn1WgBbwC1wlomoBnTRpZR0RBNgHRDNgGyECSATYQbIQpgCMhDmgGiECyAS4QaIQrgCIhDuAG9ECMATEQbwQoQCliA+gF1J3YuOUSMcsADxA+xI6j5HjRTAAHHZvyO7lnQ/qrw/OA1QEzvvnAlgNZO115lWoHbmrM77A89a2jFh78iUAAAAAElFTkSuQmCC",alt:"",class:"left-arrow"},null,-1)])),n[1]||(n[1]=e("div",{class:"center flex_auto"},[e("span",null,"选集")],-1)),n[2]||(n[2]=e("div",{class:"right"},null,-1))]),e("div",le,[e("div",Ae,[e("div",ne,[e("div",re,[e("ul",de,[(d(!0),p(S,null,x(c.episodes,(f,u)=>(d(),p("li",{class:"",onClick:D=>c.$emit("toggle",u,f),key:u},[e("p",ue,A(f.episodeTitle),1)],8,ce))),128))])])])])])],512),[[R,!1]])],8,["to"]))]))}}),pe=_(ve,[["__scopeId","data-v-4d274c9c"]]),ge={class:"scroll-box"},fe={class:"introduction"},me={class:"play_info flex align_item-center"},he={class:"media_info flex_auto overflow-hidden"},ye={class:"van-ellipsis notranslate"},De={class:"info notranslate"},Ie={class:"hot"},we={key:0,src:ie,alt:""},Ee={key:0,class:"line"},Ce={key:1,class:"type updateStatus van-ellipsis flex_auto"},Re={class:"info"},be={class:"type notranslate"},Be={class:"introduce overflow-hidden relative"},Ue={class:"introduce_info notranslate"},Qe={key:0,class:"anthology"},ke={class:"flex"},Se={class:"episode-list relative"},Me=["onClick"],Ge={class:"van-multi-ellipsis--l2"},_e={class:"detail-info"},Pe={class:"detail notranslate"},Ze={class:"title"},Ye={class:"info"},Ne={class:"type"},je={class:"year_type"},Te={class:"year"},Ve={class:"type"},xe={class:"info"},Fe={class:"hot"},ze={class:"info"},Oe={class:"type"},We={class:"actor director"},He={class:"actor"},Je={class:"brief_introduction"},Xe="data:image/gif;base64,R0lGODlhDwAMAIABAADA/wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpBMTY2NTNCMUU2MjJFODExQUQ1Q0MxN0NFRURBQzNCNiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowNkVDRjNCRTZBMUQxMUVCOTM0Q0JBNkY5NkM1MEI1RiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowNkVDRjNCRDZBMUQxMUVCOTM0Q0JBNkY5NkM1MEI1RiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmI3MTA4ZmVlLWM1MjEtNjk0MC1hMWM1LTUxNDRjODIxZWVjMyIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjBhMDgxNzZiLWQ0MWQtZDQ0ZS1hY2M3LWZmMzA4ZmRlYmViOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAkAAAEALAAAAAAPAAwAAAIdjANwy6jdEoxvSVvP1dls/1yfA5aYOYphp5ocqhQAIfkECQAAAQAsAAAAAA8ADAAAAhuMj4kA6uwUjKuleaa22e7rhaDxVaRoBmV3tgUAIfkECQAAAQAsAAAAAA8ADAAAAh2Mj4kA6uwUjKuF+ezEZmt7eB04lhd5mlzKrmJaAAAh+QQJAAABACwAAAAADwAMAAACG4yPqasAnJyRjNJlX9U58u9NINIFl4ia2lFKBQAh+QQJAAABACwAAAAADwAMAAACG4yPqcsG0J6DTAa7LFaa7uuFSTeNImiWKEKiBQAh+QQJAAABACwAAAAADwAMAAACHIyPqQaw2l6I0z1KF7baZuiFycZw5VmNYoqQaQEAIfkECQAAAQAsAAAAAA8ADAAAAhqMbwDIqA0fZDKuUJvM9HLnXVYSduQJotxWFgAh+QQJAAABACwAAAAADwAMAAACHIyPqQaw2l6I0z1KF7baZuiFycZw5VmNYoqQaQEAIfkECQAAAQAsAAAAAA8ADAAAAhuMj6nLBtCeg0wGuyxWmu7rhUk3jSJolihCogUAIfkECQAAAQAsAAAAAA8ADAAAAhuMj6mrAJyckYzSZV/VOfLvTSDSBZeImtpRSgUAIfkECQAAAQAsAAAAAA8ADAAAAh2Mj4kA6uwUjKuF+ezEZmt7eB04lhd5mlzKrmJaAAAh+QQFAAABACwAAAAADwAMAAACG4yPiQDq7BSMq6V5prbZ7uuFoPFVpGgGZXe2BQA7",qe=G({__name:"IntroComp",props:{title:{},detailShow:{type:Boolean},videoData:{}},emits:["update:detailShow","update:title"],setup(b,{emit:h}){let y=0;const c=g(0),n=F(),f=O(),u=g(),D=g(!1),P={"144P":1,"240P":2,"360P":3,"480P":4,"720P":5,"1080P":6,"1440P":7,"2160P":8,"2K":9,"4K":10},v=b,o=n.query.id,r=g(Array.isArray(o)?o[0]:o||v.videoData.userProgress.currentEpisodeShortId||v.videoData.list?.[0]?.shortId),m=g(v.videoData.userProgress.watchProgress||0),H=async()=>{D.value=!1},j=async t=>(await k.post("/api/video/episode-url/query",{type:"episode",accessKey:t})).data.data.urls.map(l=>({definition:l.quality.toUpperCase(),url:l.cdnUrl,text:{en:l.quality.toUpperCase()},index:P[l.quality.toUpperCase()]||0})).sort((l,I)=>l.index-I.index),Z=h,B=N(()=>v.videoData.list?.find(t=>t.shortId===r.value)),T=N(()=>{const t=v.videoData?.seriesInfo?.channeID||1,s=v.videoData?.total||0;return t===1||t===3||s>1}),U=N(()=>T.value?v.videoData.seriesInfo.title+(B.value?.episodeTitle||""):v.videoData.seriesInfo.title);let a;z(async()=>{B.value&&(u.value=await j(B.value.episodeAccessKey));const t={id:"mse",playsinline:!0,poster:v.videoData.seriesInfo.coverUrl,plugins:[ee,se],ignores:["volume"],fullscreen:{useCssFullscreen:!!window.TelegramWebviewProxy},demoPlugin:{title:U.value},"x5-video-player-type":"h5","x5-video-player-fullscreen":"false","x5-video-orientation":"portraint",playbackRate:!1,fluid:!0,switchQuality:!0,definitionActive:"清晰度",videoInit:!1,url:u.value[0].url};a=new $(t),a.once("ready",()=>{window.TelegramWebviewProxy&&typeof window.TelegramWebviewProxy.postEvent=="function"&&a?.usePluginHooks("fullscreen","fullscreenChange",s=>{const{player:i}=s;return i.isFullscreen?(window.TelegramWebviewProxy.postEvent("web_app_exit_fullscreen",null),i.exitCssFullscreen()):(window.TelegramWebviewProxy.postEvent("web_app_request_fullscreen",null),i.getCssFullscreen()),!0})}),a.on("pause",s=>{const i=Math.floor(s.currentTime);r.value&&i&&E(r.value,i)}),a.on("definitionChange",()=>{}),a.on("timeupdate",s=>{const i=Math.floor(s.currentTime);c.value=i;const l=Math.floor(i/60);y!=l&&i%60==0&&(y=l,r.value&&i&&E(r.value,i))}),a.on("ended",async()=>{const s=B.value?.episodeNumber||0;s<v.videoData.size&&await Y(s,v.videoData.list[s])}),a.once("play",()=>{Z("update:title",U.value),a.seek(m.value)}),a.emit("resourceReady",u.value)});const E=async(t,s)=>{try{return s?await k.post("/api/video/progress",{episodeIdentifier:t,stopAtSecond:s}):(await k.get("/api/video/progress?episodeIdentifier="+t)).data.data.stopAtSecond||0}catch(i){console.error(i)}},J=()=>{const t=document.querySelector(".detail"),s=document.querySelector(".episodes");t&&(t.style.display="none"),s&&(s.style.display="block")},Y=async(t,s)=>{if(r.value==s.shortId)return;r.value&&c.value&&E(r.value,c.value),r.value=s.shortId,f.replace({query:{id:s.shortId}});try{u.value=await j(s.episodeAccessKey),m.value=await E(s.shortId),m.value<a.duration-20?a.seek(m.value):a.seek(0),a.src=u.value[0].url,a.emit("resourceReady",u.value),a.play(),a.plugins.demoplugin.setTitle(U.value),Z("update:title",U.value)}catch(I){console.error("加载视频失败",I)}const i=document.querySelector(".detail"),l=document.querySelector(".episodes");i&&(i.style.display="block"),l&&(l.style.display="none")};return q(()=>{a&&(r.value&&c.value&&E(r.value,c.value),a.destroy())}),(t,s)=>{const i=oe;return d(),p(S,null,[M(pe,{onToggle:Y,episodes:t.videoData.list},null,8,["episodes"]),e("div",ge,[M(i,{modelValue:D.value,"onUpdate:modelValue":s[1]||(s[1]=l=>D.value=l),onRefresh:H,"success-text":"刷新成功"},{default:K(()=>[e("div",fe,[e("div",me,[e("div",he,[e("h3",ye,A(t.videoData.seriesInfo.title),1),e("div",De,[e("div",Ie,[s[2]||(s[2]=e("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAlNJREFUSEvt1U9IVFEUx/Hvec+oLAuCCIoQIatFuKhcpM2fhZugVSBUUBj9gVoE5sxEEBS2iZk3RZsIWwQVgZK0KAhq0TivP5iJUIsWCbYyiYSoDPoz98RMJmjjzH0juHK275zf575z77wrzPNP5tljAfxv4hoPn0XolWT2bSXbEWikGg9tRRlE+QYckrR/NygaFLyPsnsSUUTaJZW9EgS1BjUe2YeaO9PD1SDOfkllu21RK1ATzZswTj+wskjwVxyzWZLPRm3QsqAmmtdinKdAXYnAW+L5BzW28yTyo0dSA2Oz1ZYE9Xx0CRPGR3V76dXrT35XraEqdxtkTLzskcrAWKgLOGozKqRQdwZDLSL14mVHivXN+oYaCzWADoE4ViBqpmqVpKT900HBm8ABO2xGlTIsab/eGtTWVpfaDx9BVlUE5pvUXS3pzKeZ/UVHqu3RDbi5dxVj+UbHbZRk5pUd2BFpRMzLOYE4TeL1vbADY01bwH0zJ7DKrZOLmfd24LFti1hRPQ7UFEH7EelEtQdYNsuiRsXz11kfmsKex0PXUYr9gfvE86OaCO/BaG9RUOiUlH8uGHgqvB5H82Od/v1UuiXt7y0sKhZ6DLTMCB6FpRvFezQRCCwEdkR2IeYesHiq2eG4JP1rk1NoQ7kx9Uz1C7gtku4bqOjT9hcNh5H8tST5PRnhu9sgVzP5CxiNRXaAeT4Z/hojbXIpO1TqsJW9LQrBieYajHOYnPtALmeG/wXqiehyqnMXcOQJnyceStfgr3In2wosFxLk+QIYZFpWtX8AbCq/Hc3hj6cAAAAASUVORK5CYII=",alt:""},null,-1)),e("span",null,A(t.videoData.seriesInfo.playCount<1e4?t.videoData.seriesInfo.playCount:(t.videoData.seriesInfo.playCount/1e4).toFixed(1)+" 万"),1)]),s[3]||(s[3]=e("span",{class:"line"},"|",-1)),e("div",{class:"score flex align_item-center noRating",style:L({color:t.videoData.seriesInfo.score?"#ff743d":""})},[t.videoData.seriesInfo.score?(d(),p("img",we)):w("",!0),Q(" "+A(t.videoData.seriesInfo.score?t.videoData.seriesInfo.score:"暂无评分"),1)],4),t.videoData.seriesInfo.channeID!=2?(d(),p("span",Ee,"|")):w("",!0),t.videoData.seriesInfo.channeID!=2?(d(),p("div",Ce,A(t.videoData.seriesInfo.updateStatus),1)):w("",!0)]),e("div",Re,[e("div",be,A(t.videoData.tags.join("·")),1),s[4]||(s[4]=e("span",{class:"line"},"|",-1))])]),s[5]||(s[5]=e("div",{class:"avatar"},[e("div",{class:"my-image"},[e("div",{class:"van-image van-image--round"})])],-1))]),e("div",Be,[e("div",Ue,[Q(A(t.videoData.seriesInfo.description?.slice(0,46)||"")+" ",1),e("span",{class:"btn inline_flex align_item-center",onClick:s[0]||(s[0]=()=>Z("update:detailShow",!0))},s[6]||(s[6]=[e("i",null,"...",-1),Q("详情"),e("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAANhJREFUSEvd1TsOwjAMBmA7C49rwcpBUEmU5CClbSicg3IWFo7CUKMI2CAPRx0ge/5PsR0ZYeKDE+fD/wOolHVCwLVp6hOnnMESKWUPiFQREQkhKg4SBLS223Ece0RELhJtcikSBXzdS5AkoARJBrhIFsBBsgEpzVoIvADQ3INE2Hddvfv2R7KAZzicAWD5Cjy27d6HUzGglF0h0pAT7tGkF3DDk4CS8ChQGh4FtDYDEWxSG/qp0cEeGGMWROCRW2xa2FMkpZw55+6hUQztiaQp4iya953fBx4l45gZ80ZoqgAAAABJRU5ErkJggg==",alt:""},null,-1)]))])]),T.value?(d(),p("div",Qe,[e("div",ke,[e("ul",Se,[(d(!0),p(S,null,x(t.videoData.list||[],(l,I)=>(d(),p("li",{key:I,class:W({active:r.value===l.shortId}),onClick:us=>Y(I,l)},[e("p",Ge,A(l.episodeTitle),1),r.value===l.shortId?(d(),p("img",{key:0,src:Xe,alt:""})):w("",!0)],10,Me))),128))]),e("div",{class:"all_episodes flex_none flex align_item-center justify_content-center",onClick:J},s[7]||(s[7]=[e("span",null,"选集",-1),e("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAANhJREFUSEvd1TsOwjAMBmA7C49rwcpBUEmU5CClbSicg3IWFo7CUKMI2CAPRx0ge/5PsR0ZYeKDE+fD/wOolHVCwLVp6hOnnMESKWUPiFQREQkhKg4SBLS223Ece0RELhJtcikSBXzdS5AkoARJBrhIFsBBsgEpzVoIvADQ3INE2Hddvfv2R7KAZzicAWD5Cjy27d6HUzGglF0h0pAT7tGkF3DDk4CS8ChQGh4FtDYDEWxSG/qp0cEeGGMWROCRW2xa2FMkpZw55+6hUQztiaQp4iya953fBx4l45gZ80ZoqgAAAABJRU5ErkJggg==",alt:""},null,-1)]))])])):w("",!0)])]),_:1},8,["modelValue"])]),C(e("div",_e,[e("div",Pe,[e("div",Ze,A(t.videoData.seriesInfo.title),1),e("div",Ye,[e("div",Ne,A(t.videoData.seriesInfo.updateStatus),1)]),e("div",je,[e("span",Te,A(t.videoData.seriesInfo.postTime?t.videoData.seriesInfo.postTime.slice(0,4):"")+"年",1),e("span",Ve,A(t.videoData.seriesInfo.channeName),1)]),e("div",xe,[e("div",Fe,[s[8]||(s[8]=e("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAlNJREFUSEvt1U9IVFEUx/Hvec+oLAuCCIoQIatFuKhcpM2fhZugVSBUUBj9gVoE5sxEEBS2iZk3RZsIWwQVgZK0KAhq0TivP5iJUIsWCbYyiYSoDPoz98RMJmjjzH0juHK275zf575z77wrzPNP5tljAfxv4hoPn0XolWT2bSXbEWikGg9tRRlE+QYckrR/NygaFLyPsnsSUUTaJZW9EgS1BjUe2YeaO9PD1SDOfkllu21RK1ATzZswTj+wskjwVxyzWZLPRm3QsqAmmtdinKdAXYnAW+L5BzW28yTyo0dSA2Oz1ZYE9Xx0CRPGR3V76dXrT35XraEqdxtkTLzskcrAWKgLOGozKqRQdwZDLSL14mVHivXN+oYaCzWADoE4ViBqpmqVpKT900HBm8ABO2xGlTIsab/eGtTWVpfaDx9BVlUE5pvUXS3pzKeZ/UVHqu3RDbi5dxVj+UbHbZRk5pUd2BFpRMzLOYE4TeL1vbADY01bwH0zJ7DKrZOLmfd24LFti1hRPQ7UFEH7EelEtQdYNsuiRsXz11kfmsKex0PXUYr9gfvE86OaCO/BaG9RUOiUlH8uGHgqvB5H82Od/v1UuiXt7y0sKhZ6DLTMCB6FpRvFezQRCCwEdkR2IeYesHiq2eG4JP1rk1NoQ7kx9Uz1C7gtku4bqOjT9hcNh5H8tST5PRnhu9sgVzP5CxiNRXaAeT4Z/hojbXIpO1TqsJW9LQrBieYajHOYnPtALmeG/wXqiehyqnMXcOQJnyceStfgr3In2wosFxLk+QIYZFpWtX8AbCq/Hc3hj6cAAAAASUVORK5CYII=",alt:""},null,-1)),e("span",null,A(t.videoData.seriesInfo.playCount<1e4?t.videoData.seriesInfo.playCount:(t.videoData.seriesInfo.playCount/1e4).toFixed(1)+" 万"),1)]),s[9]||(s[9]=e("span",{class:"line"},"|",-1))]),e("div",ze,[e("div",Oe,A(t.videoData.seriesInfo.contentType),1)]),e("div",We," 导演："+A(t.videoData.seriesInfo.director),1),e("div",He," 主演："+A(t.videoData.seriesInfo.actor),1),s[10]||(s[10]=e("div",{class:"title"},"简介",-1)),e("div",Je,A(t.videoData.seriesInfo.description),1)])],512),[[R,t.detailShow]])],64)}}}),Ke=_(qe,[["__scopeId","data-v-417bc4f8"]]),Le={class:"top"},$e={class:"player-container"},es={class:"title_box absolute notranslate"},ss={class:"bar justify_content-sb van-hairline--bottom"},ts={class:"left flex align_item-center"},os={class:"close_detail"},is={class:"bottom flex_auto"},as={class:"load-box box1"},ls={class:"load-box box2"},As=G({__name:"VideoPlayer",setup(b){const h=g(""),y=F(),c=O(),n=g({size:0,tags:[],total:0,seriesInfo:{starring:"",id:111,channeID:111,mediaUrl:"",coverUrl:"",cidMapper:"",postTime:"",actor:"",director:"",channeName:"",description:"",contentType:"",updateStatus:"",score:"",playCount:0,title:"",fileName:"",mediaId:"",shareCount:0,comments:0,isHot:!1,isVip:!1},userProgress:{currentEpisode:0,currentEpisodeShortId:"",watchProgress:0,watchPercentage:0,totalWatchTime:0,lastWatchTime:"",isCompleted:!1},list:[]});z(async()=>{const v=y.params.id;try{const o=await k.get(`/api/video/episodes?seriesShortId=${v}&size=500`);n.value=o.data.data}catch(o){console.error("获取视频数据失败",o)}});const f=g(!1),u=g("intro"),D=g(null),P=()=>{window.history.state?.back?c.back():c.push("/")};return(v,o)=>{const r=te;return d(),p(S,null,[e("div",Le,[e("div",$e,[e("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAXNJREFUaEPt2TtKBEEYReFzMZMBd+ASXIGBmhgaGbkDlyGGJgYuQBAjAzP3YOoCRMHcRMTEkoYOOpgHXfU/ZrArmWD6cb6qoXqgxYYPbXg/EyB7BacV+LcrUEqZAXfAEXAl6aJmMlJ+Qn38E7DfR/8CM0nfYxHhgDnxXfOLpL2x8d3xoYAF8a/AoaS3tQZ4xIetgFd8CMAz3h3gHe8KiIh3AyyJP5D0XrPbLDrHfBuNjDdfgeh4U0BGvBkgK94EkBnfDMiObwKsQ3wr4BE4GezP3b9K831+1TOj+jlQSvkCtgc3OJX0sOqG1t+3AG6A80HQJ3As6dk6ctn1WgBbwC1wlomoBnTRpZR0RBNgHRDNgGyECSATYQbIQpgCMhDmgGiECyAS4QaIQrgCIhDuAG9ECMATEQbwQoQCliA+gF1J3YuOUSMcsADxA+xI6j5HjRTAAHHZvyO7lnQ/qrw/OA1QEzvvnAlgNZO115lWoHbmrM77A89a2jFh78iUAAAAAElFTkSuQmCC",alt:"",class:"left-arrow",onClick:P}),e("div",es,[M(r,{scrollable:!1,text:h.value,background:"transparent",color:"#fff"},null,8,["text"])]),e("div",{id:"mse",ref_key:"playerRef",ref:D},null,512)]),e("div",ss,[e("div",ts,[e("div",{class:W(["button",{active:u.value==="intro"}]),onClick:o[0]||(o[0]=m=>u.value="intro")},o[4]||(o[4]=[Q(" 简介"),e("i",null,null,-1)]),2)]),o[6]||(o[6]=e("div",{class:"right flex_none flex align_item-center"},[e("div",{class:"danmu-control flex_none"})],-1)),C(e("div",os,[o[5]||(o[5]=e("span",null,"详情",-1)),e("img",{onClick:o[1]||(o[1]=m=>f.value=!f.value),src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAyRJREFUWEftlslPFEEUxr831fYguKAn1Agibmd3Pc0YMUDiv4AhIJOexQgJ8b9gklntIBkP3j0ZRYwkbpjgdnTfl5MrIsxMVz9TMGNEmelujfFCXTrpqlff7331XlcT/vOg/6yPRYBFByo6kMmYZ4mwDbDbDcN4/ifFmk6nG4i08wB9Dod7AwvtUREgmz15jpk6ADy3bRGIRnteeIFIp3MNQGFMJUGEccMI7fcEMDw8vDyfty4AUIHPbLsYjEajriBM01xj27jMrBzEPdsuHoxGo+89AajFCmJmxhohwj5mPNM0BEKh0MtqTiSTybVC6JcBbAVwV9fFwZ6eng+VYhy7IJFIrBDCf0FBAHgqBIKVIJLJ4bVCWGMAthDhzvS0aO3vryyuoBwB1CIFoWk1IwDvBfhpoUDB48fnO5HNZtcx+5T4ZiK6zWy1hsPhj0514wpgIQhmGYhEIq/U3M/iAG4D0pW4awfKWSQSZ1YIMXWRCHsAPGG2grquc7Foq8w3MeNWba3e2tXV9ckp8/K8awfKAaZprpQSI8AcROl9C4CJfP7bob6+Ptfinh2YD0GjAO8qvZsQAq2hUOiz28z/2AEVaJpmo5Q8BtDG0kaPLcsXPHbs6Ot/DpBKpZqIlqgvXDNAN4ngY+bdAB4T2QHDMN54gfBUA6nUqSafT6qCa2bGuJT5Nimlz++vvQhAHccjIjvoBcI1QDab3VDq8w0Abvj9Wlt3d/ekyjYej9freu0oEXZ6hXAFkEwONQsx22pNRHRd10V7Wbxsdzyeq6+pKYwyz0FIqQVise63TsfhCDA0NNRcLKqC4yYA1yYntY4TJ+Yy/3Xkcrn6mZkfEA+lLARjsVhViKoAmUxmIyBU5o0AXWUudkQika/VsspkMqsATbXoDiI8sKzCgWoQFQESCbNF02ZbbT3AV5mlo3gZTEEQaaPMvAPAg9IF9m4h8Gp/RPfVlUqEK3V1Szs6OzunnM7z5/k5CHGJGdvVtRwOh9Tzt1EN4DSAZVNTX44MDAx4Ei+rDA6eWu33y7M+H30xjN7DngC8ZPs3ax274G82dxO7CLDowHc0yEkwMWOySAAAAABJRU5ErkJggg==",alt:""})],512),[[R,f.value]])])]),e("div",is,[C(e("div",as,[n.value.seriesInfo.coverUrl?(d(),V(Ke,{key:0,videoData:n.value,detailShow:f.value,"onUpdate:detailShow":o[2]||(o[2]=m=>f.value=m),title:h.value,"onUpdate:title":o[3]||(o[3]=m=>h.value=m)},null,8,["videoData","detailShow","title"])):w("",!0)],512),[[R,u.value==="intro"]]),C(e("div",ls,null,512),[[R,u.value==="comment"]])])],64)}}}),ns=_(As,[["__scopeId","data-v-d8dc32b7"]]),rs={class:"detail h_100_vh"},ds={class:"detail-body flex_direction-column"},cs=G({__name:"PlayView",setup(b){return(h,y)=>(d(),p("div",rs,[e("div",ds,[M(ns)])]))}}),Cs=_(cs,[["__scopeId","data-v-1b3310d5"]]);export{Cs as default};
