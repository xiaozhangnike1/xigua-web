import{d as B,r as v,b as g,c as l,w as i,F as R,e as V,f as a,h as U,o as u,i as H,t as F,y as S,_ as I,l as G}from"./index-CE-iaIph.js";import{P as D}from"./index-C8kCWPbc.js";import{S as E,a as N,L as Y}from"./index-BqzntutB.js";import{I as L,R as M,C as Q,a as j}from"./CoverComp-26MKZKq9.js";import{s as h}from"./request-BzuFj0hJ.js";import"./index-CECtwLFq.js";const k={class:"swipe-container"},_={class:"my-image"},b={class:"describe"},J={class:"custom-indicator"},P=["onClick"],T=B({__name:"SwineComp",props:{HomeBanners:{default:()=>[]}},setup(n){const d=v(0),t=v(),s=p=>{d.value=p,t.value?.swipeTo(p)};return(p,m)=>{const r=L,A=U("RouterLink"),c=N,e=E;return u(),g("div",k,[l(e,{ref_key:"swipeRef",ref:t,active:d.value,"onUpdate:active":m[0]||(m[0]=o=>d.value=o),class:"image-carousel",autoplay:5e3,"indicator-color":"white","lazy-render":!1},{indicator:i(({active:o,total:C})=>[a("ul",J,[(u(!0),g(R,null,V(C,(y,w)=>(u(),g("li",{key:w,class:S({"is-active":w===o}),onClick:f=>s(w)},m[1]||(m[1]=[a("div",{class:"indicator-line"},null,-1)]),10,P))),128))])]),default:i(()=>[(u(!0),g(R,null,V(p.HomeBanners,(o,C)=>(u(),H(c,{key:o.id},{default:i(()=>[l(A,{to:o.shortId?{name:"play",params:{id:o.shortId}}:"",onClick:y=>s(C)},{default:i(()=>[a("div",_,[l(r,{src:o.showURL,fit:"cover","show-error":"","show-loading":""},null,8,["src"])]),a("div",b,[a("p",null,F(o.title),1)])]),_:2},1032,["to","onClick"])]),_:2},1024))),128))]),_:1},8,["active"])])}}}),x=I(T,[["__scopeId","data-v-6ea1cb58"]]),Z={class:"screen-bar"},z=B({__name:"ScreenComp",props:{catInfo:Object},setup(n){return(d,t)=>{const s=U("RouterLink");return u(),g("ul",Z,[l(s,{to:{name:"list",params:{id:n.catInfo?.categoryId},query:{channeid:n.catInfo?.id,ids:"0,0,0,0,0,0,0"}}},{default:i(()=>t[0]||(t[0]=[a("div",null,[a("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAZtJREFUWEftlb8rxHEYx1/PoeiIkgHJYDFgECVyd36k25TV5g8wW/yabFJmZZDRYJEM53vdJCWFwSg6yik6WbhHd0Xpvj+e4cTw/dR3+j7v5/P6vOt5P8IfH/nj+/lnACmtp46oyZU8MCkPpdojbaSBWpOumg8G5PGr9qcDjq6hLJgaQYGEVJVqU7qDMGvU3ZCQziCAU+Cb0qXxCBB1AcgARW+8zgSQDQaIkCQmh55tjvUc6CkDKNDDuFx66hzNoeRDgNCB0AGLA+sUuPAcJ2EVpb1sDJVFhDufHNgEcsEAtkj7lSQcRhmw3Y+SkOKLwNEplG6TLsILMdl2j2JTh8oW/VxGae1D6TVfEWMXESWlQ0ToMureiMue1zJaQVk2NgKlhjF5x9EtlDmj7p6EtAYBbCN4LxVlHugoAxA2wGcKlCXgNRhAmCYu+z7b8AQYdAHoJy5nPrps6V+gAyFA6EDogOAAt57jpCSBZpcgOkB48tHNAM/BY2iMtMonYVpbgOJnOzG5KhVmtI0CTSaR8M6oXP/TbWh6QmWLPgEowYQwL8OowAAAAABJRU5ErkJggg==",alt:""})],-1),a("p",null,"全部",-1)])),_:1,__:[0]},8,["to"]),l(s,{to:{name:"list",params:{id:n.catInfo?.categoryId},query:{channeid:n.catInfo?.id,ids:"0,0,0,0,0,0,0"}}},{default:i(()=>t[1]||(t[1]=[a("div",null,[a("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAActJREFUWEftlsFLFHEUxz9vdoNoFesPiCIIBMHTIuymMy62KoSQB2/iTRACrytdslshHTp08Bbh2UNIUWSzo6wS7rHwpnbvsiyGsLpPml1pk6Lf7EwtyMzvNPDmfT/vO7/3+z2hw490WJ8YIJwDH/UeCRI48rrdX9k+gKvjwBrir8l2IdoDcLUXYRu42qy8ipIlJ5+DOhEcYFOvccIn4DZwjKAoSeAAZYCcfAsCEQxANYHHWyCP8gyLKV9MWQEeInikyJOWmilEMABPn6PMI7zBZoIN9n0hm5t4rAL3EZZxZC56AFfTCDvALjUy5KWCp199IUdu4GoXFiWUfiwGsaVkAmHuQFmv8J0CykscaVTeCtB4v44yS5IlBqUaLcDvsp0HMFE8F2PuQAwQO/BfHPB0lCNKjMmh0YYO2gXvNMVl7uDI+7P8P7ugqBlgC2WBnDz9JwCuFhCeAFmG5cdl1jIRbegIdT4gPMaRRUOAL82TsM8wfhHlERZ3sWU9PMCm3vKFh2SvMwBGqi1BnkbswMUEwB8uXgUtzjB+Bpj+0yZ0qFM0TBQuzGIYW7xfu6Csl6jyAIuecNn/8nWdCt28OBvbwl3HEZDGAB134BRBvLsh0ppcDQAAAABJRU5ErkJggg==",alt:""})],-1),a("p",null,"最新上传",-1)])),_:1,__:[1]},8,["to"]),l(s,{to:{name:"list",params:{id:n.catInfo?.categoryId},query:{channeid:n.catInfo?.id,ids:"1,0,0,0,0.0.0"}}},{default:i(()=>t[2]||(t[2]=[a("div",null,[a("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAvlJREFUWEft11uIVXUUx/HPmqkpR8UeoggpKgjEIimKoNE558xIVEKGQQ9hCYYkkWUPBWFog5FSkBVBYFHQVbpiUhAJZ86JLoQPSUVEBBXRbYogLCqds2IfZyw7Zy42TFK4Xjbs/+L//64f67f2f4fDHHGYzzd9ANU8C4t1/q3E9IVSvDj6dvoAarlT6m+rcFiiFK8Wa9MHUM15Qp8Q0lzcgqOaQGmVSjwyvQCjpdfzXMNeFuYKv0jd/x5ALZdJj2MmtgpfSxumBvBhdnnOPndEY1wHDeZtwp1SNuUvxxbVvF3Y+M8BqnmtcD++Fy5Rio9aIArAIQ/jGuEnw67SF6808woo7sJK5Xhs8j2QGWo241YUlXfgS8MW6o/PD0BU83jhJSzEZ8JlSvH+X9ZPFW7UYZPeGJocwI7sNtsTWNasfP/zaqzCJ/ZZZHF8q57zpR3S6Xjb0S7XE9+1KFTLCx1ntwXx88QA9TxJ2i6dL32syxI98anMDnXPSFfiPWGTtBVz8LS5Vjojfms5/I28wLB3cI9yFGqOMwfqefZIRaegqtMVFsWPBzZ9NrucYDsuHnlXNNsG5dg4ZnPW8iLptaYjynHd2AC1vFTahtnCo2Za7bzY27Lxruy2R9FMC3RYpzdeGNcZkwKo5w0atggdGtapRNF8k4tqHiuVVLwu2th0QoBa3ifd1JxYDStU4vnJnTySNZjFuL272ajlKNxwcIwLsCvn2OMHDOmwVG+8e0iH7/f5ANYLK5SimICHAFCk1vIce33VtFW7KCyUTmxbXZFfzwGNqQBMVHItd0tnmmVG26acsgITAQxmMXrnSTNU4teW9P82QD17NDypYbm+eLOtGNOqQD3Xjvh/rVIUX7zWOAJwRIH/twKDuQYPSGtU4sExXPAB5pvlmDEm4XoMSMtV4qmWPerZr2EnHlKO64v1P39MittPw83SvSrxTVuAei417OQxAWt5mrRap80HXV5GN3srZ/hdcTPeNnpXnL4/o4nG+sj6YQf4A8satjD8Tj6dAAAAAElFTkSuQmCC",alt:""})],-1),a("p",null,"人气高",-1)])),_:1,__:[2]},8,["to"]),l(s,{to:{name:"list",params:{id:n.catInfo?.categoryId},query:{channeid:n.catInfo?.id,ids:"2,0,0,0,0,0,0"}}},{default:i(()=>t[3]||(t[3]=[a("div",null,[a("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABB9JREFUWEfdlntoVnUYxz/fs2Z5y4Ia3qBwGeg/mUnO23vOW9aWXTS0jKKk0j8q/4i0cIQR0YUW/ZURkZlR1FzkHypl0bb3vE4HYpTYyLyEmlZmLAk13d6dJ35nF9z2bu+FLOj57/wuz/M5z++5if9YVLT9tC0k4i3gGBkWMlc/FqOrOIBGG4/YCwzvMtpEoDn/HkBor2GsRGzCOAfcg8dcEqovFKJwD3xmlzKUI4hRGDMo5Q8ytCDq8VV54QFS9jRQg0jjy48NpuxjxGIibiSpXYVAFOaBzTaMkRwERuNRRUJfxMbSNpmIPYjN+Fpw4QBSVg28DOwg0KxehtL2ERH3AbMI1JwvRHYP7LJhnKaciHLgGsREYDIwHVGCMbufke1WTlscCycQtYjdiP1kOEzAcSTLBtUbIG0+xuvA9RhevwviL4wXCeS80F8a7QkU37+416ZoA45iNJHhGebqePd+b4DQ3MaVGAcRh4HDGIdQ/L2XU7QwTy7tBpZGuwyPBMYUiD13NTAOKOuqG+sI9Gh2gJTtjy8YD5JUbb7vmNe5lD2OWAO8ja/HBvLArRhbut65mkA1eSkf7JCZCHkVcOnr6sdsfP2UHcCtNlqA+AS4Io6HpFYWDVFnJZTxDvAw8B1DqGKmjp2vL3sWhDYR48v4OVxQ+UVAPG8eAR8A9wPNGPNI6mTfnxm4EHU2nBCYgFiKr3cL8kRor2CscnWSy7mD63Q6dxr2PdHpia+BNkYwhmlqzwvC1YQM+4BvifBJ6tRA93KX4tBqMRbTzlXcoiN5ATRYJR5bMZaR1NrB7uQGSNlG4G48ykjoRF4ATVZBhmbEKny5DBhQcgOE5rrbJBKMGKic9tO+00Zzhl+AtQRaVjxAZyT/idiHr6n9FO2woZwkylodU+a8dYBAM4oH2GbX0sEPwHoCuVzulEarQDyFcReiA49P43Sdo909Z1Lm0ngmvzGKe9VRXBCG9hDG+4jl+HqT0FyTegm4DTiD2ApUYIwFDGMjHqvx9T0pewFYTcQUbjoPrA/J4DEQ2hsYy/FYRMR8xANdM+AajBqS+p06G8JolhDxHDAeyCBczWjA2AA8QqD3ivNAylwZXYqIYgXGhxjPktTR+Hu3DaeVcySVwcVDG08iqjFGQnzHi0c1X3XFAYQ2CWNT3Bc8FpCQq4ydss0m0BEPHS34quhZb7KxZFgBcUvezglWFB8D3VpdR6unjFLK8LUnXm6w2/HYEv9poJIegLRN5SIOMVOtg0V/917uOtB9MmUHuvrCDfj6JitA2m4m4ivETnxN/6cB3FhVipiPr01ZAVLmUnUd8CuBxvzvAM7Gw6ZxJ0ltyeqB0JZgrAd+JpCbA3NKITHgxrNpnGURVWolbZVEccdzaXhJbGmHjaM9zv3P8eUKVk75G2xHhTAphyS1AAAAAElFTkSuQmCC",alt:""})],-1),a("p",null,"评分高",-1)])),_:1,__:[3]},8,["to"])])}}}),W=I(z,[["__scopeId","data-v-8cc29512"]]),O=B({__name:"ListComp",props:{HomeVideos:{default:()=>[]},vtype:{default:1}},emits:["update:HomeVideos"],setup(n,{emit:d}){const t=v(!1);let s=1;const p=n,m=d,r=v(!1),A=v(!1),c=async()=>{try{s++;const o=(await h.get("/api/home/gethomemodules",{params:{channeid:p.vtype,page:s}}))?.data?.data?.list?.[0]?.list||[];o.length||(A.value=!0),m("update:HomeVideos",[...p.HomeVideos,...o])}catch(e){console.error("ListComp error: ",e),t.value=!0,s--}finally{r.value=!1}};return(e,o)=>{const C=Q,y=M,w=Y;return u(),H(w,{loading:r.value,"onUpdate:loading":o[0]||(o[0]=f=>r.value=f),"immediate-check":!1,finished:A.value,"finished-text":"没有更多了",onLoad:c,error:t.value,"onUpdate:error":o[1]||(o[1]=f=>t.value=f),"error-text":"请求失败，点击重新加载",class:"list",role:""},{default:i(()=>[l(y,{gutter:"10"},{default:i(()=>[(u(!0),g(R,null,V(e.HomeVideos,f=>(u(),H(C,{key:f.shortId,span:"12"},{default:i(()=>[l(j,{MvItem:f,islist:e.vtype!=2},null,8,["MvItem","islist"])]),_:2},1024))),128))]),_:1})]),_:1},8,["loading","finished","error"])}}}),q=I(O,[["__scopeId","data-v-1e1d8b15"]]),K={class:"scroll-box"},X=B({__name:"NavHomeView",props:{catInfo:{}},setup(n){const d=v(!1),t=v(),s=v(),p=n,m=async()=>{try{const A=(await h.get("/api/home/gethomemodules?channeid="+p.catInfo.id)).data;for(const c of A.data?.list??[])c.type===0?t.value=c.banners.map(e=>({id:e.id,showURL:e.showURL,title:e.title,url:e.url,shortId:e.shortId})):0<c.type&&c.type<5&&(s.value=c.list.map(e=>({id:e.id,coverUrl:e.coverUrl,score:e.score,playCount:e.playCount,cidMapper:e.cidMapper,shortId:e.shortId,title:e.title,isSerial:e.isSerial,upStatus:e.upStatus,upCount:e.upCount})))}catch(r){console.error("NavHomeView error: ",r)}d.value=!1};return G(()=>{m()}),(r,A)=>{const c=D;return u(),g("div",K,[l(c,{modelValue:d.value,"onUpdate:modelValue":A[1]||(A[1]=e=>d.value=e),onRefresh:m,"success-text":"刷新成功"},{default:i(()=>[l(x,{HomeBanners:t.value},null,8,["HomeBanners"]),l(W,{catInfo:r.catInfo},null,8,["catInfo"]),l(q,{HomeVideos:s.value,"onUpdate:HomeVideos":A[0]||(A[0]=e=>s.value=e),vtype:r.catInfo.id??1},null,8,["HomeVideos","vtype"])]),_:1},8,["modelValue"])])}}}),ne=I(X,[["__scopeId","data-v-0b7cfabe"]]);export{ne as default};
